<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERPod SOFTWARE | Proveedores</title>
    <link rel="stylesheet" href="/frontend/assets/css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            --glass-bg: rgba(255, 255, 255, 0.95);
        }

        /* Glassmorphism Overrides */
        body {
            background-color: #f3f4f6;
            background-image:
                radial-gradient(at 0% 0%, hsla(253, 16%, 7%, 1) 0, transparent 50%),
                radial-gradient(at 50% 0%, hsla(225, 39%, 30%, 1) 0, transparent 50%),
                radial-gradient(at 100% 0%, hsla(339, 49%, 30%, 1) 0, transparent 50%);
            background-attachment: fixed;
            min-height: 100vh;
        }

        .card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            border-radius: 20px;
        }

        .glass-table thead th {
            border-bottom: 2px solid rgba(99, 102, 241, 0.1);
            color: #4b5563;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 0.05em;
        }

        .btn-premium {
            background: var(--primary-gradient);
            color: white;
            border: none;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .btn-premium:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.5);
        }

        /* Modal Styles */
        .modal {
            background-color: rgba(15, 23, 42, 0.7) !important;
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-content-glass {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border-radius: 24px;
            padding: 40px;
            width: 100%;
            max-width: 750px;
        }

        .form-control label {
            font-weight: 500;
            color: #475569;
            margin-bottom: 8px;
            display: block;
            font-size: 0.9rem;
        }

        .form-control input,
        .form-control select {
            background: rgba(243, 244, 246, 0.6);
            border: 1px solid rgba(203, 213, 225, 0.8);
            border-radius: 12px;
            padding: 12px;
            width: 100%;
            transition: all 0.2s;
        }

        .form-control input:focus,
        .form-control select:focus {
            background: white;
            border-color: #818cf8;
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
            outline: none;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>

    <div id="sidebar-container"></div>

    <main class="main-content">
        <div id="header-container"></div>

        <section class="form-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                <div>
                    <h2 style="font-size: 1.8rem; font-weight: 700; color: #1e293b; letter-spacing: -0.5px;">Gestión de
                        Proveedores</h2>
                    <p style="color: #64748b; margin-top: 5px;">Administra tus proveedores de bienes y servicios.</p>
                </div>
                <button class="btn-premium" id="btn-nuevo-tercero">
                    <i class="fas fa-plus-circle" style="font-size: 1.1em;"></i> <span>Nuevo Proveedor</span>
                </button>
            </div>

            <div class="table-container card" style="padding: 0; overflow: hidden;">
                <table class="glass-table">
                    <thead style="background: rgba(248, 250, 252, 0.5);">
                        <tr>
                            <th style="padding: 16px 24px;">Nombre / Razón Social</th>
                            <th style="padding: 16px 24px;">Documento</th>
                            <th style="padding: 16px 24px;">Tipo</th>
                            <th style="padding: 16px 24px;">Teléfono</th>
                            <th style="padding: 16px 24px;">Dirección</th>
                            <th style="padding: 16px 24px;">Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="terceros-table-body">
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 60px; color: #94a3b8;">
                                <i class="fas fa-spinner fa-spin"
                                    style="font-size: 2rem; margin-bottom: 15px; color: #818cf8;"></i>
                                <p style="font-weight: 500;">Cargando proveedores...</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <!-- Modal Tercero -->
    <div id="modal-tercero" class="modal">
        <div class="modal-content-glass">

            <div
                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 1px solid rgba(0,0,0,0.05); padding-bottom: 20px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div
                        style="background: linear-gradient(135deg, #e0e7ff 0%, #fae8ff 100%); width: 50px; height: 50px; border-radius: 14px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);">
                        <i class="fas fa-truck" style="color: #6366f1; font-size: 1.4rem;"></i>
                    </div>
                    <div>
                        <h2 id="modal-title"
                            style="font-size: 1.5rem; font-weight: 700; color: #1e293b; margin: 0; letter-spacing: -0.5px;">
                            Nuevo Proveedor</h2>
                        <p style="margin: 0; color: #64748b; font-size: 0.9rem;">Información básica de contacto</p>
                    </div>
                </div>
                <button class="close-modal"
                    style="background: none; border: none; font-size: 1.5rem; color: #94a3b8; cursor: pointer; padding: 5px;">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <form id="form-tercero">
                <div class="grid-2">
                    <div class="form-control">
                        <label>Nombre Comercial <span style="color: #ef4444;">*</span></label>
                        <input type="text" id="nombre_comercial" required placeholder="Ej: Distribuidora XYZ">
                    </div>
                    <div class="form-control">
                        <label>Razón Social (Opcional)</label>
                        <input type="text" id="razon_social" placeholder="Nombre legal">
                    </div>
                </div>

                <div class="grid-2" style="grid-template-columns: 1fr 2fr;">
                    <div class="form-control">
                        <label>Tipo Doc.</label>
                        <select id="tipo_documento">
                            <option value="NIT">NIT</option>
                            <option value="CC">Cédula</option>
                            <option value="CE">Cédula Ext.</option>
                            <option value="PP">Pasaporte</option>
                        </select>
                    </div>
                    <div class="form-control">
                        <label>Número Documento <span style="color: #ef4444;">*</span></label>
                        <input type="text" id="documento" required placeholder="Ej: 900.123.456-1">
                    </div>
                </div>

                <div class="grid-2">
                    <div class="form-control">
                        <label>Teléfono</label>
                        <input type="text" id="telefono" placeholder="Ej: 3001234567">
                    </div>
                    <div class="form-control">
                        <label>Correo Electrónico</label>
                        <input type="email" id="email" placeholder="ejemplo@correo.com">
                    </div>
                </div>

                <div class="form-control" style="margin-bottom: 25px;">
                    <label>Dirección Física</label>
                    <input type="text" id="direccion" placeholder="Ej: Calle 123 #45-67">
                </div>

                <!-- Checkbox Cards (Hidden/Forced Logic for Proveedor) -->
                <div style="display: none;">
                    <input type="checkbox" id="es_cliente">
                    <input type="checkbox" id="es_proveedor" checked>
                </div>

                <div
                    style="display: flex; gap: 15px; margin-top: 20px; border-top: 1px solid rgba(0,0,0,0.05); padding-top: 20px;">
                    <button type="button" class="close-modal-btn"
                        style="flex: 1; padding: 14px; border-radius: 12px; border: 1px solid #e2e8f0; background: white; color: #64748b; font-weight: 600; cursor: pointer;">
                        Cancelar
                    </button>
                    <button type="submit" class="btn-premium"
                        style="flex: 1; justify-content: center; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);">
                        <i class="fas fa-save"></i> Guardar Proveedor
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Define Mode for JS -->
    <script>
        window.TERCEROS_MODE = 'proveedor';
    </script>
    <script src="/frontend/assets/js/layout-loader.js"></script>
    <script src="/frontend/assets/js/auth_guard.js"></script>
    <script src="/frontend/assets/js/notifications.js"></script>
    <script src="/frontend/assets/js/configuracion_terceros.js"></script>
</body>

</html>